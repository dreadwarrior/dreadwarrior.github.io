(()=>{var e=e=>{const o=e.dataset.filterSource,i=e.dataset.filterTarget,n=e.querySelector("input"),a=e.querySelector("button[aria-controls]"),s=e.querySelector('button[type="reset"]'),t=new Awesomplete(n,{minChars:0,sort:!1,replace:function(e){this.input.value=e.label}});a.addEventListener("click",function(){t.ul.childNodes.length===0?t.evaluate():t.ul.hasAttribute("hidden")?t.open():t.close()}),s.addEventListener("click",()=>{n.value="",t.evaluate(),t.close()}),n.addEventListener("awesomplete-selectcomplete",e=>{const t=e.text.value;htmx.ajax("GET",t,{target:i,select:o})}),n.addEventListener("awesomplete-close",e=>{(e.reason==="blur"||e.reason==="esc")&&n.value===""&&s.click()})};function t(){const t=document.querySelector(".control-group--awesomplete");t!=null&&window.addEventListener("load",function(){e(t)})}function n(e){const t=document.querySelector(e);t.checked=localStorage.getItem("switchedTheme")==="true",t.addEventListener("change",function(e){e.currentTarget.checked===!0?localStorage.setItem("switchedTheme","true"):localStorage.removeItem("switchedTheme")})}function s(e){const t=document.querySelectorAll(e);document.addEventListener("click",function(e){t.forEach(t=>{const n=t.contains(e.target);n||t.removeAttribute("open")})})}t(),n("#theme-switch"),s(".tooltip")})()